<div class="pandemic-game {{if this.showDrawer 'pandemic-game--pushed'}}">
  <h1>
    Stop the Pandemic
  </h1>
  <p>
    Your game code is:
    <BsButton @type="light" @size="sm" class="ml-1">
      {{uppercase this.model.game.code}}
      <BsPopover>
        Share this code with your friends so they can join your game!
      </BsPopover>
    </BsButton>
  </p>
  <BsForm
    @formLayout="inline"
    @model={{this}}
    @onSubmit={{this.changeName}}
    class="justify-content-center" as |form|
  >
    <form.element
      @controlType="text"
      @property="currentPlayerName"
      @label="Your name is:"
      class="flex-nowrap ml-2" as |el|
    >
      <el.control
        class="ml-2 pr-5"
        value={{this.model.currentPlayer.name}}
        {{on 'focusout' form.submit}}
      />
      {{#if form.isSubmitting}}
        <div class="spinner-grow spinner-grow-sm text-success ml-n4"></div>
      {{else if form.isSubmitted}}
        <FaIcon @icon="check" class="text-success ml-n4" />
      {{else if form.isRejected}}
        <FaIcon @icon="times" class="change-name-error text-danger ml-n4" />
        <BsTooltip
          @title="We encountered an error saving this info. Please try again."
          @triggerElement=".change-name-error"
        />
      {{/if}}
    </form.element>
  </BsForm>
  <p>
    cities
      <li>
        id is
        {{city.cardId}}
      </li>
    {{/each}}
  </p>
</div>
<div class="pandemic-game__drawer-btns">
  <div class="mb-3">
    <BsButton
      @onClick={{this.openTeamInfo}}
      @type="info"
      @active={{this.showTeamInfo}}
      @defaultText="Team Info"
    />
    <BsButton
      @onClick={{this.openGameInfo}}
      @type="primary"
      @active={{this.showGameInfo}}
      @defaultText="Game Info"
    />
  </div>
  {{#if this.showDrawer}}
    <button
      type="button"
      aria-label="Close drawer"
      class="close-btn rounded-circle"
      {{on 'click' this.closeDrawer}}
    ></button>
  {{/if}}
</div>
<div
  class="pandemic-game__drawer
    {{if this.showDrawer 'pandemic-game__drawer--open'}}
     bg-light"
>
  <div class="px-4">
    {{#if this.showTeamInfo}}
      {{#each this.model.game.players as |player|}}
        <li
          class="pandemic-game__player
            {{if player.isTurn 'pandemic-game__player--active'}}"
        >
          {{player.name}}
        </li>
      {{/each}}
    {{else if this.showGameInfo}}
      Game info
    {{/if}}
  <div id="map_container">
    <svg id="map" width="100%"></svg>
  </div>
</div>